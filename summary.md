# 钻石切割优化项目总结

## 项目目标
利用遗传算法计算在原石内部切割标准圆形钻石的最佳空间位姿，使切割出的钻石体积最大。

## 方法概述
1. 读取原石和标准圆形钻石的几何数据
2. 利用遗传算法对标准圆形钻石进行空间变换（平移、旋转和缩放）
3. 优化目标是使标准圆形钻石完全位于原石内部的同时，体积比最大
4. 使用GPU加速计算，提高遗传算法效率

## 遗传算法设计
- **个体编码**：每个个体由7个参数组成
  - 平移向量 (x, y, z)：控制钻石的位置
  - 旋转角度 (rx, ry, rz)：控制钻石的方向
  - 缩放因子 (s)：控制钻石的大小
- **适应度函数**：标准钻石与原石的体积比，同时考虑内部点比例
- **选择策略**：轮盘赌选择
- **交叉操作**：均匀交叉
- **变异操作**：各参数独立变异
- **精英策略**：保留每代最佳个体

## 优化结果
- **体积比**：17.92%
- **最佳参数**：
  - 平移向量：[0.8700, 0.8982, 0.7803]
  - 旋转角度：[6.0303, 5.5690, 5.2998]
  - 缩放因子：0.9928
- **几何参数**：
  - 主半轴长度 (a)：0.3246
  - 次半轴长度 (b)：0.2081
  - 离心率 (e)：0.7675
  - 腰围高度 (D)：0.0628
  - 下锥体高度 (Lp)：0.4923
  - mp参数：0.7099
  - 上锥体高度 (Lc)：0.4923
  - mc参数：0.8060
  - 角度bc：0.1273 弧度（7.29度）
  - 角度bp：0.1890 弧度（10.83度）

## 空间位姿
- **质心位置**：[0.9085, 0.7830, 0.7036]
- **对称轴方向**：[-0.0876, 0.0595, 0.9944]

## 可视化结果
可视化结果已保存在figure文件夹中：
- `original_and_standard_diamonds.png`：原石和标准钻石的形状
- `optimization_history.png`：遗传算法优化过程
- `optimized_diamond_position.png`：最优解的可视化结果

## 结论
通过遗传算法，我们成功找到了在原石内部切割标准圆形钻石的最佳空间位姿。在此位姿下，可以得到体积比为17.92%的标准圆形钻石，这是在各种约束条件下的最优解。 